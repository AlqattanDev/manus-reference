---
/**
 * Header Component - Refactored
 * Now uses decomposed sub-components for better maintainability
 */
import ASCIICanvas from './header/ASCIICanvas.astro';
import SystemInfo from './header/SystemInfo.astro';
import type { BaseComponentProps, UserProfile } from '@/types/index.js';

export interface HeaderProps extends BaseComponentProps {
  profile: UserProfile;
  showSystemInfo?: boolean;
  enableAnimations?: boolean;
}

const {
  profile,
  showSystemInfo = true,
  enableAnimations = true,
  className = '',
  ...props
} = Astro.props as HeaderProps;
---

<div class={`header ${className}`} {...props}>
  <!-- ASCII Canvas Component -->
  <ASCIICanvas canvasId="ascii-canvas" enableAnimations={enableAnimations} />

  <!-- System Info Component -->
  {
    showSystemInfo && (
      <SystemInfo profile={profile} showDate={true} dateFormat="iso" />
    )
  }
</div>

<style>
  .header {
    position: relative;
    margin-bottom: 40px;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .header {
      margin-bottom: 30px;
    }
  }
</style>
