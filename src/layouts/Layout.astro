---
import '../styles/global.css';
import '../styles/page-breaks.css';
---

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ali - System Architect</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body class="digital-view">
    <!-- View Switcher -->
    <button class="view-switcher" aria-label="Toggle between digital and print view">
        <svg class="icon-digital" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
            <line x1="8" y1="21" x2="16" y2="21"/>
            <line x1="12" y1="17" x2="12" y2="21"/>
        </svg>
        <svg class="icon-print" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6,9 6,2 18,2 18,9"/>
            <path d="M6,18H4a2,2,0,0,1-2-2V11a2,2,0,0,1,2,2H20a2,2,0,0,1,2-2v5a2,2,0,0,1-2,2H18"/>
            <rect x="6" y="14" width="12" height="8"/>
        </svg>
    </button>

    <div class="container page">
        <div class="content">
            <slot />
        </div>
    </div>

    <script>
      const switcher = document.querySelector('.view-switcher') as HTMLElement | null;
      const body = document.body;

      if (switcher) {
        switcher.addEventListener('click', () => {
          if (body.classList.contains('digital-view')) {
            body.classList.remove('digital-view');
            body.classList.add('print-view');
          } else {
            body.classList.remove('print-view');
            body.classList.add('digital-view');
          }
        });
      }

    </script>

    <style is:global>
      :root {
        /* Default Matrix Theme */
        --background-digital: #0a0a0a;
        --foreground-digital: #00ff41;
        --muted-digital: #888888;
        --border-digital: #333333;
        --accent-digital: #1a1a1a;
        
        --background-print: #ffffff;
        --foreground-print: #000000;
        --muted-print: #666666;
        --border-print: #000000;
        --accent-print: #000000;
        
        --font-body: 'JetBrains Mono', 'Courier New', monospace;
        --font-accent: 'Space Mono', monospace;
        --transition-speed: 0.25s;
      }

      /* Color Scheme Definitions */
      .scheme-matrix {
        --background-digital: #0a0a0a;
        --foreground-digital: #00ff41;
        --muted-digital: #888888;
        --border-digital: #333333;
        --accent-digital: #1a1a1a;
      }

      .scheme-blockchain {
        --background-digital: #0d1421;
        --foreground-digital: #00d4aa;
        --muted-digital: #7a8b99;
        --border-digital: #2d3748;
        --accent-digital: #1a202c;
      }

      .scheme-trading {
        --background-digital: #1a0f0a;
        --foreground-digital: #ff6b35;
        --muted-digital: #a0a0a0;
        --border-digital: #4a2c1a;
        --accent-digital: #2d1810;
      }

      .scheme-encryption {
        --background-digital: #1a1a0a;
        --foreground-digital: #ffaa00;
        --muted-digital: #999966;
        --border-digital: #444422;
        --accent-digital: #222211;
      }

      .scheme-ledger {
        --background-digital: #0a1a1a;
        --foreground-digital: #00ffcc;
        --muted-digital: #669999;
        --border-digital: #224444;
        --accent-digital: #112222;
      }

      .scheme-swift {
        --background-digital: #0a0a1a;
        --foreground-digital: #0088ff;
        --muted-digital: #6699cc;
        --border-digital: #223344;
        --accent-digital: #111122;
      }

      .scheme-risk {
        --background-digital: #1a0a0a;
        --foreground-digital: #ff4444;
        --muted-digital: #cc6666;
        --border-digital: #442222;
        --accent-digital: #221111;
      }

      .scheme-compliance {
        --background-digital: #0a1a0a;
        --foreground-digital: #88ff44;
        --muted-digital: #99cc66;
        --border-digital: #334422;
        --accent-digital: #1a2211;
      }

      .scheme-settlement {
        --background-digital: #1a1a0a;
        --foreground-digital: #ffcc00;
        --muted-digital: #ccaa66;
        --border-digital: #444422;
        --accent-digital: #222211;
      }

      .scheme-gruvbox {
        --background-digital: #282828;
        --foreground-digital: #ebdbb2;
        --muted-digital: #a89984;
        --border-digital: #504945;
        --accent-digital: #3c3836;
      }

      .scheme-gruvbox-visual {
        --background-digital: #282828;
        --foreground-digital: #d3869b;
        --muted-digital: #a89984;
        --border-digital: #504945;
        --accent-digital: #3c3836;
      }

      .scheme-gruvbox-syntax {
        --background-digital: #282828;
        --foreground-digital: #fabd2f;
        --muted-digital: #a89984;
        --border-digital: #504945;
        --accent-digital: #3c3836;
      }

      /* Smooth transitions for color scheme changes */
      body {
        transition: 
          background-color var(--transition-speed) ease,
          color var(--transition-speed) ease;
      }

      .section-title,
      .entry-title,
      .entry-meta,
      .entry-description,
      .skill-header,
      .skill-level,
      .contact-title,
      .contact-meta,
      .contact-description,
      .tech-tag,
      .checksum,
      a {
        transition: 
          color var(--transition-speed) ease,
          border-color var(--transition-speed) ease,
          background-color var(--transition-speed) ease;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-body);
        line-height: 1.4;
        transition: all var(--transition-speed) ease;
        overflow-x: hidden;
      }

      /* Digital View */
      body.digital-view {
        background: var(--background-digital);
        color: var(--foreground-digital);
      }

      /* Print View */
      body.print-view {
        background: var(--background-print);
        color: var(--foreground-print);
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 40px 20px;
        position: relative;
        z-index: 1;
      }

      .page {
        min-height: 100vh;
      }

      /* View Switcher */
      .view-switcher {
        position: fixed;
        top: 20px;
        right: 20px;
        background: transparent;
        border: 1px solid transparent;
        color: var(--muted-digital);
        width: 48px;
        height: 48px;
        border-radius: 12px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1000;
        opacity: 0.3;
      }

      .view-switcher svg {
        width: 24px;
        height: 24px;
        transition: all var(--transition-speed) ease;
      }

      /* Icon visibility */
      body.digital-view .icon-print {
        display: none;
      }

      body.print-view .icon-digital {
        display: none;
      }

      /* Digital view switcher */
      body.digital-view .icon-digital {
        stroke: var(--muted-digital);
        stroke-width: 1;
        fill: none;
      }

      body.digital-view .view-switcher:hover {
        opacity: 1;
        background: rgba(0, 0, 0, 0.8);
        border-color: var(--foreground-digital);
        box-shadow: 0 4px 16px rgba(0, 255, 65, 0.15);
        transform: scale(1.02);
      }

      body.digital-view .view-switcher:hover .icon-digital {
        stroke: var(--foreground-digital);
        stroke-width: 2;
        filter: drop-shadow(0 0 8px var(--foreground-digital));
      }

      /* Print view switcher */
      body.print-view .view-switcher {
        opacity: 0.4;
        color: var(--muted-print);
      }

      body.print-view .icon-print {
        stroke: var(--muted-print);
        stroke-width: 1;
        fill: none;
      }

      body.print-view .view-switcher:hover {
        opacity: 1;
        background: rgba(255, 255, 255, 0.9);
        border-color: var(--foreground-print);
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        transform: scale(1.02);
      }

      body.print-view .view-switcher:hover .icon-print {
        stroke: var(--foreground-print);
        stroke-width: 2;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px 15px;
        }
      }
    </style>
</body>
</html>